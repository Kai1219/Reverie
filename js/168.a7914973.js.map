{"version":3,"file":"js/168.a7914973.js","mappings":"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","sources":["webpack://reverie/./src/views/ProductView.vue","webpack://reverie/./src/components/Swiper/ProductSwiper.vue","webpack://reverie/./src/components/Swiper/ProductSwiper.vue?4aa1","webpack://reverie/./src/views/ProductView.vue?f743"],"sourcesContent":["<template>\n  <main>\n    <section class=\"section-top mb-5\">\n      <div class=\"bg-top banner-product pic\">\n        <div class=\"text-center w-100 h-100 mask z-index-3 position-relative\">\n          <div class=\"position-absolute top-50 start-50 translate-middle\">\n            <h2>產品細節</h2>\n            <p>Product Details</p>\n          </div>\n        </div>\n      </div>\n    </section>\n    <section class=\"container mb-6\">\n      <div class=\"row my-5\">\n        <div class=\"products-items col\">\n          <div class=\"row md-5\">\n            <nav aria-label=\"breadcrumb\">\n              <ol class=\"breadcrumb\">\n                <li class=\"breadcrumb-item\">\n                  <router-link :to=\"`/`\">首頁</router-link>\n                </li>\n                <li class=\"breadcrumb-item\">\n                  <router-link to=\"/products\">商品一覽</router-link>\n                </li>\n                <li class=\"breadcrumb-item active fw-bold\" aria-current=\"page\">\n                  {{ product.category }}\n                </li>\n              </ol>\n            </nav>\n            <div class=\"col col-md-6 mb-5\">\n              <ProductSwiper :swiperProduct=\"product\"></ProductSwiper>\n            </div>\n            <div class=\"col col-md-6 px-lg-5 product-content mt-5\">\n              <h2>{{ product.title }}</h2>\n              <span class=\"badge bg-secondary rounded-pill\">{{\n                product.category\n              }}</span>\n              <hr />\n              <p>{{ product.content }}</p>\n              <p>{{ product.description }}</p>\n              <div class=\"price my-5\">\n                <div v-if=\"product.origin_price === product.price\">\n                  <span class=\"h5\">NT${{ product.price }}</span>\n                </div>\n                <div v-else>\n                  <span class=\"h5 text-danger\"\n                    >NT${{ product.price }}&nbsp;</span\n                  >\n                  <span class=\"text-decoration-line-through fw-light\"\n                    >NT${{ product.origin_price }}</span\n                  >\n                </div>\n                <div class=\"input-group my-3\">\n                  <select class=\"form-select\" v-model=\"qty\">\n                    <option\n                      v-for=\"num in 10\"\n                      :value=\"num\"\n                      :key=\"`${num}_${product.id}`\"\n                    >\n                      {{ num }}\n                    </option>\n                  </select>\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-primary\"\n                    @click=\"addToCart(product.id)\"\n                    :disabled=\"isLoadingItem === product.id\"\n                  >\n                    <div\n                      class=\"mx-auto d-flex align-items-center justify-content-center text-white\"\n                      v-if=\"isLoadingItem === product.id\"\n                    >\n                      <span\n                        class=\"spinner-border spinner-border-sm me-2 d-none d-sm-block\"\n                        role=\"status\"\n                        aria-hidden=\"true\"\n                      ></span>\n                      <span>加入中...</span>\n                    </div>\n                    <span v-else>加入購物車</span>\n                  </button>\n                </div>\n                <button\n                  type=\"button\"\n                  class=\"btn text-dark my-3 fs-5\"\n                  @click=\"toggleFavorite(product.id)\"\n                >\n                  <i\n                    class=\"bi bi-heart-fill text-info\"\n                    v-if=\"favoriteItems.includes(product.id)\"\n                  ></i>\n                  <i class=\"bi bi-heart\" v-else></i>\n                  我的最愛\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"my-5\">\n        <ul class=\"nav nav-tabs flex-nowrap\" id=\"myTab\" role=\"tablist\">\n          <li class=\"nav-item\" role=\"presentation\">\n            <button\n              class=\"nav-link active\"\n              id=\"home-tab\"\n              data-bs-toggle=\"tab\"\n              data-bs-target=\"#home\"\n              type=\"button\"\n              role=\"tab\"\n              aria-controls=\"home\"\n              aria-selected=\"true\"\n            >\n              配送方式\n            </button>\n          </li>\n          <li class=\"nav-item\" role=\"presentation\">\n            <button\n              class=\"nav-link\"\n              id=\"profile-tab\"\n              data-bs-toggle=\"tab\"\n              data-bs-target=\"#profile\"\n              type=\"button\"\n              role=\"tab\"\n              aria-controls=\"profile\"\n              aria-selected=\"false\"\n            >\n              注意事項\n            </button>\n          </li>\n          <li class=\"nav-item\" role=\"presentation\">\n            <button\n              class=\"nav-link\"\n              id=\"contact-tab\"\n              data-bs-toggle=\"tab\"\n              data-bs-target=\"#contact\"\n              type=\"button\"\n              role=\"tab\"\n              aria-controls=\"contact\"\n              aria-selected=\"false\"\n            >\n              退換貨須知\n            </button>\n          </li>\n        </ul>\n        <div class=\"tab-content mt-3\" id=\"myTabContent\">\n          <div\n            class=\"tab-pane fade show active\"\n            id=\"home\"\n            role=\"tabpanel\"\n            aria-labelledby=\"home-tab\"\n          >\n            <ul class=\"tab-content-ul\">\n              <li>配送僅限台灣本島。</li>\n              <li>\n                確認訂單後約七個工作天(不含例假日)送達，訂單成立後會有專人致電訂購人確認。\n              </li>\n              <li>單筆訂單滿1000元即可享免運費</li>\n            </ul>\n          </div>\n          <div\n            class=\"tab-pane fade\"\n            id=\"profile\"\n            role=\"tabpanel\"\n            aria-labelledby=\"profile-tab\"\n          >\n            <ul class=\"tab-content-ul\">\n              <li>盒內放有乾冰，請小心處理，否則可能引起危險。</li>\n              <li>切勿用手接觸乾冰，否則有可能導致皮膚凍傷</li>\n              <li>切勿吞嚥乾冰或把乾冰放入食物或飲品中</li>\n            </ul>\n          </div>\n          <div\n            class=\"tab-pane fade\"\n            id=\"contact\"\n            role=\"tabpanel\"\n            aria-labelledby=\"contact-tab\"\n          >\n            <ul class=\"tab-content-ul\">\n              <li>訂購商品後，在尚未出貨之前，您仍可以申請取消訂單</li>\n              <li>本商店商品無7天鑑賞期，食品貨物提領後恕不提供退換貨服務</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <div class=\"recommend my-5\">\n      <div class=\"products container text-center\">\n        <h2 class=\"mb-5 mb-md-3 fw-bold\">為您推薦</h2>\n        <ShopSwiper\n          :swiperProducts=\"categoryProducts\"\n          @add-cart=\"addToCart\"\n        ></ShopSwiper>\n      </div>\n    </div>\n    <ServiceList />\n    <SuccessToast ref=\"SuccessToast\" :message=\"toastMessage\"></SuccessToast>\n    <ErrorToast ref=\"ErrorToast\" :message=\"toastMessage\"></ErrorToast>\n    <Loading ref=\"Loading\"></Loading>\n  </main>\n</template>\n\n<script>\nimport ProductSwiper from '@/components/Swiper/ProductSwiper.vue'\nimport emitter from '@/libs/emitter'\nimport Loading from '@/components/LoadingView.vue'\nimport SuccessToast from '@/components/SuccessToast.vue'\nimport ErrorToast from '@/components/ErrorToast.vue'\nimport ShopSwiper from '@/components/Swiper/ShopSwiper.vue'\nimport ServiceList from '@/components/ServiceList.vue'\nexport default {\n  name: 'ProductView',\n  data () {\n    return {\n      product: {\n        imageUrl: ''\n      },\n      qty: 1,\n      favoriteItems: JSON.parse(localStorage.getItem('favorite')) || [],\n      toastMessage: '',\n      categoryProducts: [],\n      isLoadingItem: ''\n    }\n  },\n  components: {\n    ProductSwiper,\n    Loading,\n    SuccessToast,\n    ErrorToast,\n    ShopSwiper,\n    ServiceList\n  },\n  methods: {\n    getProduct () {\n      const { id } = this.$route.params\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/product/${id}`\n      this.$refs.Loading.ToggleLoading('on')\n      this.$http(api)\n        .then((res) => {\n          this.product = res.data.product\n          this.getCategory(this.product.category)\n        })\n        .catch(() => {\n          this.toastMessage = '發生錯誤，請重新整理'\n          this.$refs.ErrorToast.openToasts()\n        })\n      this.$refs.Loading.ToggleLoading('off')\n    },\n    addToCart (id) {\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`\n      const data = {\n        product_id: this.product.id,\n        qty: this.qty\n      }\n      this.isLoadingItem = id\n      this.$http\n        .post(api, { data })\n        .then((res) => {\n          this.toastMessage = res.data.message\n          this.$refs.SuccessToast.openToasts()\n          emitter.emit('get-cart')\n        })\n        .catch(() => {\n          alert('請再加入購物車一次')\n        })\n      setTimeout(() => {\n        this.isLoadingItem = ''\n      }, 1000)\n    },\n    toggleFavorite (id) {\n      const favIndex = this.favoriteItems.findIndex((item) => item === id)\n      if (favIndex === -1) {\n        this.favoriteItems.push(id)\n        emitter.emit('get-favorites', this.favoriteItems)\n      } else {\n        this.favoriteItems.splice(favIndex, 1)\n        emitter.emit('get-favorites', this.favoriteItems)\n      }\n    },\n    getCategory (category) {\n      let api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products`\n      if (category) {\n        api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products?category=${category}`\n      }\n      this.$http(api)\n        .then((res) => {\n          this.categoryProducts = res.data.products\n          const { id } = this.$route.params\n          const categoryIndex = this.categoryProducts.findIndex(\n            (item) => item.id === id\n          )\n          this.categoryProducts.splice(categoryIndex, 1)\n        })\n        .catch(() => {\n          this.toastMessage = '發生錯誤，請重新選擇'\n          this.$refs.ErrorToast.openToasts()\n        })\n    }\n  },\n  watch: {\n    favoriteItems: {\n      handler () {\n        localStorage.setItem('favorite', JSON.stringify(this.favoriteItems))\n      },\n      deep: true\n    },\n    $route (to) {\n      if (to.name === 'product') {\n        this.getProduct()\n      }\n    }\n  },\n  mounted () {\n    this.getProduct()\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.breadcrumb a {\n  text-decoration: none;\n}\n\n.tab-content-ul li {\n  margin-bottom: 1rem;\n}\n\n.banner-product {\n  background-image: url('@/assets/img/banner/banner-product.png');\n}\n</style>\n","<template>\r\n  <Swiper\r\n    :style=\"{\r\n      '--swiper-navigation-color': '#fff',\r\n      '--swiper-pagination-color': '#fff'\r\n    }\"\r\n    :spaceBetween=\"10\"\r\n    :navigation=\"true\"\r\n    :thumbs=\"{ swiper: thumbsSwiper }\"\r\n    :modules=\"modules\"\r\n    @swiper=\"onSwiper\"\r\n    class=\"mySwiper2 product-swiper\"\r\n  >\r\n    <SwiperSlide\r\n      :style=\"{ backgroundImage: `url(${swiperProduct.imageUrl})` }\"\r\n    ></SwiperSlide>\r\n    <SwiperSlide\r\n      v-for=\"(img, i) in swiperProduct.imagesUrl\"\r\n      :key=\"i\"\r\n      :style=\"{ backgroundImage: `url(${img})` }\"\r\n    >\r\n    </SwiperSlide>\r\n  </Swiper>\r\n  <Swiper\r\n    @swiper=\"setThumbsSwiper\"\r\n    :spaceBetween=\"10\"\r\n    :slidesPerView=\"4\"\r\n    :freeMode=\"true\"\r\n    :watchSlidesProgress=\"true\"\r\n    :modules=\"modules\"\r\n    class=\"mySwiper product-swiper product-mask\"\r\n  >\r\n    <SwiperSlide\r\n      :style=\"{ backgroundImage: `url(${swiperProduct.imageUrl})` }\"\r\n    ></SwiperSlide>\r\n    <SwiperSlide\r\n      v-for=\"(img, i) in swiperProduct.imagesUrl\"\r\n      :key=\"i\"\r\n      :style=\"{ backgroundImage: `url(${img})` }\"\r\n    >\r\n    </SwiperSlide>\r\n  </Swiper>\r\n</template>\r\n\r\n<script>\r\nimport { Swiper, SwiperSlide } from 'swiper/vue'\r\nimport 'swiper/css'\r\nimport 'swiper/css/free-mode'\r\nimport 'swiper/css/navigation'\r\nimport 'swiper/css/thumbs'\r\nimport '@/assets/stylesheets/swiper.css'\r\nimport { FreeMode, Navigation, Thumbs } from 'swiper'\r\n\r\nexport default {\r\n  name: 'ProductSwiper',\r\n  props: {\r\n    swiperProduct: {}\r\n  },\r\n  data () {\r\n    return {\r\n      modules: [FreeMode, Navigation, Thumbs],\r\n      thumbsSwiper: null,\r\n      product: {},\r\n      pagination: {}\r\n    }\r\n  },\r\n  components: {\r\n    Swiper,\r\n    SwiperSlide\r\n  },\r\n  methods: {\r\n    setThumbsSwiper (swiper) {\r\n      this.thumbsSwiper = swiper\r\n    },\r\n    onSwiper (swiper) {\r\n      this.swiper = swiper\r\n    },\r\n    handleSlideTo () {\r\n      this.swiper.slideTo(0)\r\n    }\r\n  },\r\n  updated () {\r\n    this.handleSlideTo()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.product-swiper {\r\n  width: 100%;\r\n  height: 25rem;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n}\r\n\r\n.swiper-slide {\r\n  background-size: cover;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  overflow: hidden;\r\n}\r\n\r\n.mySwiper2 {\r\n  // height: 80%;\r\n  width: 100%;\r\n}\r\n\r\n.mySwiper {\r\n  height: 20%;\r\n  box-sizing: border-box;\r\n  padding: 10px 0;\r\n}\r\n\r\n.product-mask .swiper-slide {\r\n  width: 25%;\r\n  height: 100%;\r\n  opacity: 0.4;\r\n}\r\n\r\n.product-mask .swiper-slide-thumb-active {\r\n  opacity: 1;\r\n}\r\n</style>\r\n","import { render } from \"./ProductSwiper.vue?vue&type=template&id=9e9315dc\"\nimport script from \"./ProductSwiper.vue?vue&type=script&lang=js\"\nexport * from \"./ProductSwiper.vue?vue&type=script&lang=js\"\n\nimport \"./ProductSwiper.vue?vue&type=style&index=0&id=9e9315dc&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\hexschool\\\\vue-cli\\\\reverie\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProductView.vue?vue&type=template&id=116c6c0e\"\nimport script from \"./ProductView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductView.vue?vue&type=script&lang=js\"\n\nimport \"./ProductView.vue?vue&type=style&index=0&id=116c6c0e&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\hexschool\\\\vue-cli\\\\reverie\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","role","_hoisted_27","_hoisted_28","id","type","_createElementBlock","_hoisted_1","_createVNode","_component_router_link","to","_toDisplayString","$data","category","_component_ProductSwiper","swiperProduct","title","_hoisted_16","content","description","origin_price","price","_hoisted_18","_hoisted_20","$event","_Fragment","_renderList","num","value","key","_hoisted_24","onClick","$options","disabled","_hoisted_29","_hoisted_30","includes","_hoisted_34","_hoisted_37","_component_ShopSwiper","swiperProducts","onAddCart","_component_ServiceList","_component_SuccessToast","ref","message","_component_ErrorToast","_component_Loading","_component_Swiper","style","spaceBetween","navigation","thumbs","swiper","modules","onSwiper","_component_SwiperSlide","backgroundImage","$props","imageUrl","imagesUrl","img","i","_createBlock","slidesPerView","freeMode","watchSlidesProgress","name","props","data","FreeMode","Navigation","Thumbs","thumbsSwiper","product","pagination","components","Swiper","SwiperSlide","methods","setThumbsSwiper","this","handleSlideTo","slideTo","updated","__exports__","qty","favoriteItems","JSON","parse","localStorage","getItem","toastMessage","categoryProducts","isLoadingItem","ProductSwiper","Loading","SuccessToast","ErrorToast","ShopSwiper","ServiceList","getProduct","$route","params","api","$refs","ToggleLoading","$http","then","res","getCategory","catch","openToasts","addToCart","product_id","post","emitter","alert","setTimeout","toggleFavorite","favIndex","findIndex","item","push","splice","products","categoryIndex","watch","handler","setItem","stringify","deep","mounted","render"],"sourceRoot":""}