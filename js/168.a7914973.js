"use strict";(self["webpackChunkreverie"]=self["webpackChunkreverie"]||[]).push([[168],{7378:function(t,e,s){s.r(e),s.d(e,{default:function(){return it}});var a=s(6252),o=s(3577),i=s(9963);const r=(0,a._)("section",{class:"section-top mb-5"},[(0,a._)("div",{class:"bg-top banner-product pic"},[(0,a._)("div",{class:"text-center w-100 h-100 mask z-index-3 position-relative"},[(0,a._)("div",{class:"position-absolute top-50 start-50 translate-middle"},[(0,a._)("h2",null,"產品細節"),(0,a._)("p",null,"Product Details")])])])],-1),l={class:"container mb-6"},c={class:"row my-5"},n={class:"products-items col"},d={class:"row md-5"},u={"aria-label":"breadcrumb"},p={class:"breadcrumb"},m={class:"breadcrumb-item"},g=(0,a.Uk)("首頁"),h={class:"breadcrumb-item"},b=(0,a.Uk)("商品一覽"),w={class:"breadcrumb-item active fw-bold","aria-current":"page"},v={class:"col col-md-6 mb-5"},_={class:"col col-md-6 px-lg-5 product-content mt-5"},f={class:"badge bg-secondary rounded-pill"},y=(0,a._)("hr",null,null,-1),S={class:"price my-5"},k={key:0},T={class:"h5"},P={key:1},x={class:"h5 text-danger"},I={class:"text-decoration-line-through fw-light"},$={class:"input-group my-3"},L=["value"],W=["disabled"],C={key:0,class:"mx-auto d-flex align-items-center justify-content-center text-white"},D=(0,a._)("span",{class:"spinner-border spinner-border-sm me-2 d-none d-sm-block",role:"status","aria-hidden":"true"},null,-1),z=(0,a._)("span",null,"加入中...",-1),Z=[D,z],U={key:1},M={key:0,class:"bi bi-heart-fill text-info"},j={key:1,class:"bi bi-heart"},q=(0,a.Uk)(" 我的最愛 "),E=(0,a._)("div",{class:"my-5"},[(0,a._)("ul",{class:"nav nav-tabs flex-nowrap",id:"myTab",role:"tablist"},[(0,a._)("li",{class:"nav-item",role:"presentation"},[(0,a._)("button",{class:"nav-link active",id:"home-tab","data-bs-toggle":"tab","data-bs-target":"#home",type:"button",role:"tab","aria-controls":"home","aria-selected":"true"}," 配送方式 ")]),(0,a._)("li",{class:"nav-item",role:"presentation"},[(0,a._)("button",{class:"nav-link",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#profile",type:"button",role:"tab","aria-controls":"profile","aria-selected":"false"}," 注意事項 ")]),(0,a._)("li",{class:"nav-item",role:"presentation"},[(0,a._)("button",{class:"nav-link",id:"contact-tab","data-bs-toggle":"tab","data-bs-target":"#contact",type:"button",role:"tab","aria-controls":"contact","aria-selected":"false"}," 退換貨須知 ")])]),(0,a._)("div",{class:"tab-content mt-3",id:"myTabContent"},[(0,a._)("div",{class:"tab-pane fade show active",id:"home",role:"tabpanel","aria-labelledby":"home-tab"},[(0,a._)("ul",{class:"tab-content-ul"},[(0,a._)("li",null,"配送僅限台灣本島。"),(0,a._)("li",null," 確認訂單後約七個工作天(不含例假日)送達，訂單成立後會有專人致電訂購人確認。 "),(0,a._)("li",null,"單筆訂單滿1000元即可享免運費")])]),(0,a._)("div",{class:"tab-pane fade",id:"profile",role:"tabpanel","aria-labelledby":"profile-tab"},[(0,a._)("ul",{class:"tab-content-ul"},[(0,a._)("li",null,"盒內放有乾冰，請小心處理，否則可能引起危險。"),(0,a._)("li",null,"切勿用手接觸乾冰，否則有可能導致皮膚凍傷"),(0,a._)("li",null,"切勿吞嚥乾冰或把乾冰放入食物或飲品中")])]),(0,a._)("div",{class:"tab-pane fade",id:"contact",role:"tabpanel","aria-labelledby":"contact-tab"},[(0,a._)("ul",{class:"tab-content-ul"},[(0,a._)("li",null,"訂購商品後，在尚未出貨之前，您仍可以申請取消訂單"),(0,a._)("li",null,"本商店商品無7天鑑賞期，食品貨物提領後恕不提供退換貨服務")])])])],-1),N={class:"recommend my-5"},H={class:"products container text-center"},Y=(0,a._)("h2",{class:"mb-5 mb-md-3 fw-bold"},"為您推薦",-1);function K(t,e,s,D,z,K){const V=(0,a.up)("router-link"),A=(0,a.up)("ProductSwiper"),B=(0,a.up)("ShopSwiper"),F=(0,a.up)("ServiceList"),J=(0,a.up)("SuccessToast"),O=(0,a.up)("ErrorToast"),R=(0,a.up)("Loading");return(0,a.wg)(),(0,a.iD)("main",null,[r,(0,a._)("section",l,[(0,a._)("div",c,[(0,a._)("div",n,[(0,a._)("div",d,[(0,a._)("nav",u,[(0,a._)("ol",p,[(0,a._)("li",m,[(0,a.Wm)(V,{to:"/"},{default:(0,a.w5)((()=>[g])),_:1})]),(0,a._)("li",h,[(0,a.Wm)(V,{to:"/products"},{default:(0,a.w5)((()=>[b])),_:1})]),(0,a._)("li",w,(0,o.zw)(z.product.category),1)])]),(0,a._)("div",v,[(0,a.Wm)(A,{swiperProduct:z.product},null,8,["swiperProduct"])]),(0,a._)("div",_,[(0,a._)("h2",null,(0,o.zw)(z.product.title),1),(0,a._)("span",f,(0,o.zw)(z.product.category),1),y,(0,a._)("p",null,(0,o.zw)(z.product.content),1),(0,a._)("p",null,(0,o.zw)(z.product.description),1),(0,a._)("div",S,[z.product.origin_price===z.product.price?((0,a.wg)(),(0,a.iD)("div",k,[(0,a._)("span",T,"NT$"+(0,o.zw)(z.product.price),1)])):((0,a.wg)(),(0,a.iD)("div",P,[(0,a._)("span",x,"NT$"+(0,o.zw)(z.product.price)+" ",1),(0,a._)("span",I,"NT$"+(0,o.zw)(z.product.origin_price),1)])),(0,a._)("div",$,[(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":e[0]||(e[0]=t=>z.qty=t)},[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(10,(t=>(0,a._)("option",{value:t,key:`${t}_${z.product.id}`},(0,o.zw)(t),9,L))),64))],512),[[i.bM,z.qty]]),(0,a._)("button",{type:"button",class:"btn btn-primary",onClick:e[1]||(e[1]=t=>K.addToCart(z.product.id)),disabled:z.isLoadingItem===z.product.id},[z.isLoadingItem===z.product.id?((0,a.wg)(),(0,a.iD)("div",C,Z)):((0,a.wg)(),(0,a.iD)("span",U,"加入購物車"))],8,W)]),(0,a._)("button",{type:"button",class:"btn text-dark my-3 fs-5",onClick:e[2]||(e[2]=t=>K.toggleFavorite(z.product.id))},[z.favoriteItems.includes(z.product.id)?((0,a.wg)(),(0,a.iD)("i",M)):((0,a.wg)(),(0,a.iD)("i",j)),q])])])])])]),E]),(0,a._)("div",N,[(0,a._)("div",H,[Y,(0,a.Wm)(B,{swiperProducts:z.categoryProducts,onAddCart:K.addToCart},null,8,["swiperProducts","onAddCart"])])]),(0,a.Wm)(F),(0,a.Wm)(J,{ref:"SuccessToast",message:z.toastMessage},null,8,["message"]),(0,a.Wm)(O,{ref:"ErrorToast",message:z.toastMessage},null,8,["message"]),(0,a.Wm)(R,{ref:"Loading"},null,512)])}function V(t,e,s,i,r,l){const c=(0,a.up)("SwiperSlide"),n=(0,a.up)("Swiper");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(n,{style:{"--swiper-navigation-color":"#fff","--swiper-pagination-color":"#fff"},spaceBetween:10,navigation:!0,thumbs:{swiper:r.thumbsSwiper},modules:r.modules,onSwiper:l.onSwiper,class:"mySwiper2 product-swiper"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{style:(0,o.j5)({backgroundImage:`url(${s.swiperProduct.imageUrl})`})},null,8,["style"]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.swiperProduct.imagesUrl,((t,e)=>((0,a.wg)(),(0,a.j4)(c,{key:e,style:(0,o.j5)({backgroundImage:`url(${t})`})},null,8,["style"])))),128))])),_:1},8,["thumbs","modules","onSwiper"]),(0,a.Wm)(n,{onSwiper:l.setThumbsSwiper,spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,modules:r.modules,class:"mySwiper product-swiper product-mask"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{style:(0,o.j5)({backgroundImage:`url(${s.swiperProduct.imageUrl})`})},null,8,["style"]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.swiperProduct.imagesUrl,((t,e)=>((0,a.wg)(),(0,a.j4)(c,{key:e,style:(0,o.j5)({backgroundImage:`url(${t})`})},null,8,["style"])))),128))])),_:1},8,["onSwiper","modules"])],64)}var A=s(3181),B=s(1911),F={name:"ProductSwiper",props:{swiperProduct:{}},data(){return{modules:[B.Rv,B.W_,B.o3],thumbsSwiper:null,product:{},pagination:{}}},components:{Swiper:A.tq,SwiperSlide:A.o5},methods:{setThumbsSwiper(t){this.thumbsSwiper=t},onSwiper(t){this.swiper=t},handleSlideTo(){this.swiper.slideTo(0)}},updated(){this.handleSlideTo()}},J=s(3744);const O=(0,J.Z)(F,[["render",V]]);var R=O,G=s(1530),Q=s(2676),X=s(5793),tt=s(7257),et=s(6134),st=s(7054),at={name:"ProductView",data(){return{product:{imageUrl:""},qty:1,favoriteItems:JSON.parse(localStorage.getItem("favorite"))||[],toastMessage:"",categoryProducts:[],isLoadingItem:""}},components:{ProductSwiper:R,Loading:Q.Z,SuccessToast:X.Z,ErrorToast:tt.Z,ShopSwiper:et.Z,ServiceList:st.Z},methods:{getProduct(){const{id:t}=this.$route.params,e=`https://vue3-course-api.hexschool.io/v2/api/kate-hexschool/product/${t}`;this.$refs.Loading.ToggleLoading("on"),this.$http(e).then((t=>{this.product=t.data.product,this.getCategory(this.product.category)})).catch((()=>{this.toastMessage="發生錯誤，請重新整理",this.$refs.ErrorToast.openToasts()})),this.$refs.Loading.ToggleLoading("off")},addToCart(t){const e="https://vue3-course-api.hexschool.io/v2/api/kate-hexschool/cart",s={product_id:this.product.id,qty:this.qty};this.isLoadingItem=t,this.$http.post(e,{data:s}).then((t=>{this.toastMessage=t.data.message,this.$refs.SuccessToast.openToasts(),G.Z.emit("get-cart")})).catch((()=>{alert("請再加入購物車一次")})),setTimeout((()=>{this.isLoadingItem=""}),1e3)},toggleFavorite(t){const e=this.favoriteItems.findIndex((e=>e===t));-1===e?(this.favoriteItems.push(t),G.Z.emit("get-favorites",this.favoriteItems)):(this.favoriteItems.splice(e,1),G.Z.emit("get-favorites",this.favoriteItems))},getCategory(t){let e="https://vue3-course-api.hexschool.io/v2/api/kate-hexschool/products";t&&(e=`https://vue3-course-api.hexschool.io/v2/api/kate-hexschool/products?category=${t}`),this.$http(e).then((t=>{this.categoryProducts=t.data.products;const{id:e}=this.$route.params,s=this.categoryProducts.findIndex((t=>t.id===e));this.categoryProducts.splice(s,1)})).catch((()=>{this.toastMessage="發生錯誤，請重新選擇",this.$refs.ErrorToast.openToasts()}))}},watch:{favoriteItems:{handler(){localStorage.setItem("favorite",JSON.stringify(this.favoriteItems))},deep:!0},$route(t){"product"===t.name&&this.getProduct()}},mounted(){this.getProduct()}};const ot=(0,J.Z)(at,[["render",K]]);var it=ot}}]);
//# sourceMappingURL=168.a7914973.js.map